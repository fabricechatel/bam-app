<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd" [
  <!ENTITY % xhtml-symbol
    PUBLIC "-//W3C//ENTITIES Symbols for XHTML//EN"
    "http://www.w3.org/MarkUp/DTD/xhtml-symbol.ent">
  %xhtml-symbol;
]>
<ui:composition template="/commun/template.xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="content-to-include">
		<!-- Page content starts -->

		<!-- Edit profile -->

		<div class="items">
			<div class="container">
				<div class="row">

					<!-- Sidebar -->
					<div class="col-md-3 col-sm-3 hidden-xs">

						<!-- Sidebar navigation -->
						<h5 class="title">Pages</h5>
						<nav>
						<ul id="navi">
							<li><a href="myaccount.xhtml">Mon Compte</a></li>
							<li><a href="wish-list.xhtml">Liste de souhaits</a></li>
							<li><a href="order-history.xhtml">Historique de commandes</a></li>
							<li><a href="edit-profile.xhtml">Modifier profil</a></li>
						</ul>
						</nav>

					</div>

					<!-- Main bar -->
					<div class="col-md-9 col-sm-9">
						<!-- Title -->
						<h5 class="title">Modifier son profil</h5>

						<div class="form form-small">
							<!-- Edit profile form -->
							<h:form class="form-horizontal" id="formModification">
								<h:panelGroup id="modif">
									<div class="form-group">
										<label class="control-label col-md-3" for="civilite">Civilité</label>
										<h:selectOneRadio value="#{clientCtrl.client.civilite }"
											id="civilite">
											<f:selectItem itemValue="M" itemLabel="M" />
											<f:selectItem itemValue="Mme" itemLabel="Mme" />
										</h:selectOneRadio>
									</div>
									<!-- Name -->
									<div class="form-group">
										<label class="control-label col-md-3" for="nom">Nom</label>
										<div class="col-md-6">
											<h:inputText value="#{clientCtrl.client.nom }"
												styleClass="form-control" id="nom" >
											<f:validateLength minimum="3" maximum="15"/>
											<f:validateRegex pattern="[a-zA-Z]+"/>	
											</h:inputText>
											<h:message for="nom"/>											
										</div>
									</div>
									<div class="form-group">
										<label class="control-label col-md-3" for="prenom">Prénom</label>
										<div class="col-md-6">
											<h:inputText value="#{clientCtrl.client.prenom }"
												class="form-control" id="prenom" >
											<f:validateLength minimum="3" maximum="15"/>
											<f:validateRegex pattern="[a-zA-Z]+"/>
											</h:inputText>
											<h:message for="prenom"/>											
										</div>
									</div>
									<!-- Email -->
									<div class="form-group">
										<label class="control-label col-md-3" for="email">Email</label>
										<div class="col-md-6">
											<h:inputText type="text" value="#{clientCtrl.client.email }"
												class="form-control" id="email"
												validatorMessage="Email non valide" >
											<f:validateLength minimum="3" maximum="20"/>
											<f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
											</h:inputText>
											<h:message for="email"/>
										</div>
									</div>
									<!-- Address -->
									<div class="form-group">
										<label class="control-label col-md-3" for="numero">Numéro</label>
										<div class="col-md-6">
											<h:inputText type="text"
												value="#{clientCtrl.adresseClient.numero }"
												class="form-control" id="numero" />
										</div>
									</div>
									<div class="form-group">
										<label class="control-label col-md-3" for="rue">Rue</label>
										<div class="col-md-6">
											<h:inputText type="text"
												value="#{clientCtrl.adresseClient.voie }"
												class="form-control" id="rue" />
										</div>
									</div>
									<!-- State -->
									<div class="form-group">
										<label class="control-label col-md-3" for="cp">Code
											postal</label>
										<div class="col-md-6">
											<h:inputText type="text"
												value="#{clientCtrl.adresseClient.codePostal }"
												class="form-control" id="cp" />
										</div>
									</div>
									<!-- City -->
									<div class="form-group">
										<label class="control-label col-md-3" for="city">Ville</label>
										<div class="col-md-6">
											<h:inputText type="text"
												value="#{clientCtrl.adresseClient.ville }"
												class="form-control" id="city" />
										</div>
									</div>
									<!-- Password -->
									<div class="form-group">
										<label class="control-label col-md-3" for="mdp1">Mot
											de passe</label>
										<div class="col-md-6">
											<h:inputSecret type="password"
												value="#{clientCtrl.client.utilisateur.mdp }"
												class="form-control" id="mdp1" />
											<h:message for="mdp1"/>
										</div>
									</div>
									<!-- Buttons -->
									<div class="col-md-9 col-md-offset-3">
										<h:commandButton id="success" value="Valider" type="submit"
											binding="#{clientCtrl.success }"
											action="#{clientCtrl.updateClientEtUtilisateur() }" />
										&#160;&#160;&#160;&#160;&#160;
										<h:commandButton value="Reset" type="reset" />
										<hr/>
										<h:message for="success" style="color:green"/>
										<input type="hidden" name="${_csrf.parameterName}"
											value="${_csrf.token}" />
									</div>
								</h:panelGroup>
							</h:form>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Page content ends -->
	</ui:define>
</ui:composition>